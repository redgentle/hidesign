(function(){var b=window,a=document,c=a.getElementById("main_header");if(!c){return}aco.addEventListener(b,"scroll",function(){var d=c;if(aco.scrollTop()>200){d.className="to_the_top"}else{d.className=""}})})();(function(){var g=window,k=document,e=k.getElementById("fix_contact_btn");if(!e){return}var a,i,d=k.querySelectorAll("#fix_contact_btn, .contact_btn"),b=e.style,h=k.querySelector(".main_top_img"),c=e.offsetTop,f=(h?h.offsetHeight:0)-c;if(f>aco.scrollTop()){b.display="none"}if(k.body.offsetWidth<=414&&d.length>1){b.display="none"}var j=function(l){clearTimeout(a);clearTimeout(i);if(k.body.offsetWidth<=414&&d.length>1){b.display="none";return}if(b.display=="none"){b.display="block";c=e.offsetTop;b.display="none"}else{c=e.offsetTop}f=(h?h.offsetHeight:0)-c;e.className="default_button animated fadeOut";i=setTimeout(function(){b.display="none"},400);if(f>aco.scrollTop()){return}a=setTimeout(function(){b.display="block";c=e.offsetTop;e.className="default_button animated fadeIn"},400)};aco._each(["scroll","resize"],function(){aco.addEventListener(g,this,j)})})();(function(){var b=window,a=document;var c=function(){var f="modal_box_design_contact",e=a.getElementById(f),d=e.querySelector("form");aco.addEventListener(e.querySelector(".modal_close_btn"),"click",function(g){aco.hideModal(f)});aco.addEventListener(e.querySelector('input[value="패키지"]'),"click",function(h){var g=1;if(this.checked){g=0}aco._each(d.querySelectorAll('input[name="package_drawings"]'),function(){this.disabled=g})});aco.addEventListener(d.querySelector("#attachments"),"change",function(){var g=aco.getInputFileSize(this);if(!g||18874368>g){return}aco.confirm({title:"파일 오류",msg:"첨부파일 용량 초과.<br>18MB 이상의 고용량 파일은 참고가 가능한 수준으로 용량을 줄여서 보내주세요.",buttons:{"확인":{}}});this.value=""});aco.addEventListener(e.querySelector(".submit_box button"),"click",function(i){var g=0;aco._each(d.querySelectorAll("input[data-essential]"),function(){var j=this.type;if((j=="checkbox"&&!d.querySelectorAll('input[name="'+this.name+'"]:checked').length)||!this.value){g=1}if(g){var l=this.getAttribute("data-essential")+"을 "+(j=="checkbox"?"선택해주세요.":"입력해주세요.");var k=this;aco.confirm({title:"알림",msg:l,buttons:{"확인":{action:function(){k.focus()}}}});return 0}});if(!e.querySelector(".privacy_policy .chk_box input:checked")){aco.confirm({title:"알림",msg:"개인정수집에 동의해주세요.",buttons:{"확인":{}}});g=1}if(g){return}var h="디자인 문의를 하시겠습니까?"+(d.querySelector("#attachments").value?"<br>첨부파일 용량이 클 경우 최대 2분 정도 기다려주세요.":"");aco.confirm({title:"확인",msg:h,buttons:{"전송":{"class":"black",action:function(){aco.setLoadingBox(1);d.action="/contact/send";d.method="post";d.enctype="multipart/form-data";d.submit()}},"취소":{}}})})};aco.addEachEventListener(a.querySelectorAll("#fix_contact_btn, .contact_btn"),"click",function(f){aco.setLoadingBox(1);try{aco.ajax("/contact",{method:"post"},function(e){aco.setLoadingBox(0);aco.showModal("modal_box_design_contact",e.responseText);c()})}catch(d){aco.setLoadingBox(0);aco.confirm({title:"오류",msg:"오류가 발생했습니다.<br>잠시 후 다시 시도해주세요.",buttons:{"확인":{}}})}})})();(function(){var j=document,c=j.getElementById("portfolio_list"),e=j.getElementsByTagName("title")[0].text.split(" - "),l=e[e.length-1],h="modal_box_portfolio";if(!c){return}k(j.querySelectorAll("#main_slide .inner .list a"));k(c.querySelectorAll(".list a"));b();a();function k(m){if(!m){return false}aco._each(m,function(n){var o;aco.addEventListener(this,"click",function(p){p.preventDefault(p)});aco.addEventListener(this,"mousedown",function(p){p.preventDefault(p);o=p.clientX});aco.addEventListener(this,"mouseup",function(p){p.preventDefault(p);if(Math.abs(o-p.clientX)>50){return}if(!this.getAttribute("href").indexOf("http")){window.open(this.getAttribute("href"));return}History.pushState({e:"showPosting"},this.querySelector("img").title+" - "+l,this.href)})})}function a(){var m=c.querySelector(".inner"),n=c.querySelector(".more_btn button");if(!i()){n.style.display="none"}aco.addEventListener(n,"click",function(){if(!i()){return false}aco.setLoadingBox(1);aco.ajax("/portfolio/posting_list",{method:"post",header:"query",data:g().queryParameter},function(o){try{var p=JSON.parse(o.responseText),r=j.createElement("div");r.innerHTML=p.html;d(p.nextPageNumber);if(p.nextPageNumber){n.style.display=""}else{n.style.display="none"}k(r.querySelectorAll(".list a"));aco._each(r.querySelectorAll(".list"),function(){m.insertAdjacentElement("beforeend",this)})}catch(q){aco.setLoadingBox(0);aco.confirm({title:"오류",msg:"오류가 발생했습니다.<br>잠시 후 다시 시도해주세요.",buttons:{"확인":{}}})}finally{aco.setLoadingBox(0)}})});return true}function b(){if(!j.getElementById(h)){return false}var m=History.getState().cleanUrl;aco.addEventListener(j.querySelector("#"+h+" .modal_close_btn"),"click",function(n){History.pushState({e:"hidePositing"},l,m.slice(0,m.lastIndexOf("/")))})}function f(){aco.setLoadingBox(1);var m=g();if(!m.url){aco.setLoadingBox(0);return}aco.ajax("/portfolio/posting",{method:"post",header:"query",data:m.queryParameter},function(o){try{var p=JSON.parse(o.responseText);if(!p.result){History.back();aco.setLoadingBox(0);aco.confirm({title:"확인",msg:"존재하지 않은 포트폴리오입니다.",buttons:{"확인":{}}});return}var n=j.getElementById(h);aco.showModal(h,p.content_dom,"fadeIn");b()}catch(q){console.log(o.responseText);aco.confirm({title:"오류",msg:"오류가 발생했습니다.<br>잠시 후 다시 시도해주세요.",buttons:{"확인":{}}})}aco.setLoadingBox(0)})}History.Adapter.bind(window,"statechange",function(){var m=g().data.e;if(m=="showPosting"){f()}else{if(m=="hidePositing"||!m){aco.hideModal(h,"fadeOut")}}});function g(){var m=History.getState(),o=m.cleanUrl,r={data:m.data},s=o.split("/"),n,p="page="+i(),v;n=["url"];for(var t=0;t<n.length;t++){var u=n[t],q=s[s.length-t-1];p+="&"+u+"="+q;r[u]=q}r.queryParameter=p;return r}function i(){return parseInt(c.getAttribute("data-page"))}function d(m){c.setAttribute("data-page",m);return true}})();